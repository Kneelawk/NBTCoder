dependencies {
    implementation project(':utils')

    testImplementation project(':testutils')
}

compileJava {
    doFirst {
        // work around for bug #111 where antlr generated files are not added to the compileJava source path
        options.sourcepath = project.files(sourceSets.main.java.srcDirs)
    }
}

compileTestJava {
    moduleOptions {
        addModules = ['com.github.kneelawk.nbtcoder.test.utils']
        addReads = ['com.github.kneelawk.nbtcoder.hexlanguage': 'com.github.kneelawk.nbtcoder.test.utils']
    }
}

test {
    moduleOptions {
        addOpens = [("$moduleName/$moduleName".toString()): 'org.junit.jupiter.params']
    }
}
